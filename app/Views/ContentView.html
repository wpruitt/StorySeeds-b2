<div class="container">
	<div class="card content-view-head-card col-xs-8 col-xs-offset-2">
		<div class="previous-link col-xs-10 col-xs-offset-1">
			<a ng-if="content.branchedfrom" ng-click="getBranch(content.branchedfrom)"><span class="responsive-text glyphicon glyphicon-step-backward"></span>Previous</a>
		</div>
		<div class="card-block content-view-head-card-info col-xs-12">
			<div class="content-view-img-title-author col-xs-12">
				<div class="content-view-head-img col-xs-12 col-md-6">
					<img class="img-responsive" ng-src="{{content.image}}">
				</div>
				<div class="content-view-head-title-author col-xs-12 col-md-6">
					<h2 class="content-view-head-title col-xs-12">{{content.title}}</h2>
					<span class="content-view-head-author col-xs-12" ng-if="content.uid">
						<h5>Author:</h5>
						<nav><a ng-href="#!/profile/{{content.uid}}">Placeholder for func to get author name</a></nav>
					</span>
				</div>
			</div>
			<div class="content-view-desc-btns col-xs-12">
				<div class="content-view-desc col-xs-12">
					<label>Description: </label>
					<p>{{content.description}}</p>
				</div>
				<span class="button-holder col-xs-12">
					<button class="mybutton" ng-click="createBranch(content.id)">Create Branch</button>
					<button class="mybutton" ng-if="showDelBtn(content.uid)" data-toggle="modal" data-target="#delModal">Delete Content</button>
				</span>
			</div>
		</div>
	</div>
</div>
	<hr>
<div class="container-fluid">
	<div class="row">
		<p ng-bind-html="content.content" class="content col-xs-8 col-xs-offset-2"></p>
	</div>
</div>

<!-- Modal -->
<div class="modal fade" id="delModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-card">
        <h3 class="modal-title card-header" id="myModalLabel"><span>Hold your horses....</span></h3>
      	<div class="modal-body modal-card-body">
      		<h4>Do you really want to delete {{content.title}}?</h4>
        	<p>Only content without branches can be deleted. If you content has been branched off of, it will become annonymous.</p>
        	<div>
	        	<button class="mybutton" data-dismiss="modal">Cancel</button>
	       		<button type="button" class="mybutton" data-dismiss="modal" ng-click="deleteContent(content.id)">Delete</button>
	        </div>
        </div>
        <div class="modal-footer card-footer">
      	</div>
    </div>
  </div>
</div>


<div class="filter-container container-fluid">
	<input class="filter" type="filter" placeholder="Filter" ng-model="searchText">
</div>

<div class="card-deck">
	<div class="card col-xs-6 col-sm-4 col-md-4 col-lg-3" ng-repeat="branch in branches | filter:searchText">
		<h3 class="card-header"><span class="header-title">{{branch.title}}</span></h3>
		<a ng-click="getBranch(branch.id)">
			<div class="card-block">
				<div class="card-img img-responsive img-thumbnail" style="background-image: url('{{branch.image}}')">
				</div>
				<aside class="card-description">
					<p>{{branch.description}}</p>
				</aside>
			</div>
		</a>
		<div class="card-footer"></div>
	</div>
</div>

